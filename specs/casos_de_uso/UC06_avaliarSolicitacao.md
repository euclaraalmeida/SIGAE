| Caso de uso         | UC06 Avaliar Solicitação  |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Objetivo            | Permitir que o moderador analise, aprove ou negue as solicitações de alteração de horário ou cancelamento enviadas pelos alunos. |
| Requisitos          | **RF009** (DCE aprova/nega), **RF017** (Admin aprova/nega), **RF019** (Notificação ao aluno), **RF023** (Log de Auditoria). |
| Atores              | Moderador (DCE) e Administrador (CEF) |
| Condição de entrada | O ator deve estar logado e devem existir solicitações com status "Pendente" no sistema. |
| Fluxo principal     | 1. O ator acessa o "Painel de Gestão" ou a área de "Solicitações Pendentes". <br> 2. O sistema exibe uma lista de solicitações aguardando análise, indicando o tipo (Alteração ou Cancelamento), o aluno solicitante e a data do evento. <br> 3. O ator seleciona uma solicitação específica para ver os detalhes (justificativa do aluno, horário original e novo horário pretendido). <br> 4. O ator analisa a justificativa e decide aprovar a solicitação. <br> 5. O ator clica no botão "Aprovar". <br> 6. O sistema processa a mudança: Se for Alteração: Move o agendamento para o novo horário e libera o antigo/Se for Cancelamento: Remove o agendamento e libera o horário no calendário. <br> 7. **O sistema registra a ação no log de auditoria [RF023]**. <br> 8. O sistema altera o status para "Aprovado" e envia uma notificação automática (e-mail) ao aluno informando a decisão (RF019). <br> 9. O sistema remove o item da lista de pendências. |
| Fluxos alternativos | **A1 - Negar Solicitação**: O ator decide rejeitar o pedido (ex: justificativa inválida). <br> 1. O ator clica em "Negar" e insere o motivo da recusa (feedback). <br> 2. O sistema mantém o agendamento original como estava ou mantém o agendamento ativo. <br> 3. **O sistema registra a ação no log de auditoria [RF023]**. <br> 4. O sistema altera o status do pedido para "Negado" e notifica o aluno com o motivo. <br> **A2 - Negar Todas as Pendências (RF009)**: <br> 1. O ator seleciona "Negar Todas". <br> 2. O sistema solicita confirmação e justificativa. <br> 3. **O sistema registra as ações no log de auditoria [RF023]**. <br> 4. O sistema executa a rotina de negação em massa e notifica os alunos. |
| Fluxos de Exceção   | **E1 - Conflito de Disponibilidade (Na Alteração)**: O novo horário escolhido foi ocupado enquanto o pedido estava na fila. <br> 1. O sistema apresenta a mensagem de erro [MSG06]. <br> 2. O ator é forçado a negar a solicitação. |
| Regras de Negócio   | **RN1 - Prazo** <br> O moderador deve processar as solicitações antes do horário do evento. |
