| Caso de uso         | UC10 Gerenciar Bloqueios Administrativos                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Objetivo** | Permitir que o Administrador CEF realize reservas diretas ou bloqueios no calendário para aulas, manutenção ou eventos oficiais, sem a necessidade de uma solicitação prévia de aluno. |
| **Requisitos** | **RF012** (Criar agendamento/bloqueio), **RF013** (Aplicar flags). |
| **Atores** | Administrador (CEF). |
| **Condição de entrada** | O ator deve estar autenticado no sistema com perfil de Administrador. |
| **Fluxo principal** | 1. O administrador acede à interface do calendário ou à opção "Novo Bloqueio Administrativo". <br> 2. O sistema solicita a seleção do espaço esportivo (ex: Quadra 1). <br> 3. O administrador seleciona a data e o intervalo de horário diretamente na grade. <br> 4. O sistema exibe um formulário de reserva administrativa. <br> 5. O administrador preenche a descrição do evento e seleciona a **Flag/Categoria** obrigatória: "Aula Curricular", "Manutenção", "Projeto de Ensino" ou "Evento Externo" (conforme RF013). <br> 6. O administrador confirma a operação. <br> 7. O sistema valida a inexistência de conflitos técnicos críticos. <br> 8. O sistema regista o bloqueio com status "Confirmado" e aplica a sinalização visual correspondente no calendário. <br> 9. O sistema apresenta a mensagem **[MSG10]**. |
| **Fluxos alternativos** | **A1 - Bloqueio Recorrente**: O administrador deseja reservar um horário fixo para todo o semestre. <br> 1. No formulário (passo 5), o administrador ativa a opção "Repetir Semanalmente". <br> 2. O administrador define a data de término da recorrência. <br> 3. O sistema processa e cria a série de bloqueios no calendário. |
| **Fluxos de Exceção** | **E1 - Conflito com Agendamento de Aluno**: O horário escolhido já possui uma reserva confirmada de um aluno. <br> 1. O sistema alerta sobre a existência de agendamentos de alunos no período. <br> 2. O sistema oferece a opção de "Sobrescrever e Cancelar agendamentos afetados". <br> 3. O administrador confirma; o sistema cancela as reservas dos alunos, dispara as notificações automáticas (**RF019**) e efetiva o bloqueio administrativo. |
| **Regras de Negócio** | **RN1 - Prioridade de Gestão** <br>Bloqueios realizados pelo Administrador CEF (especialmente "Aula Curricular") têm prioridade absoluta e podem ser criados sobre horários anteriormente marcados como disponíveis para alunos. <br><br> **RN2 - Identificação Visual** <br>Para o público (Visualizador), estes bloqueios devem ser exibidos com cores ou etiquetas que identifiquem a natureza da ocupação (ex: "AULA") para evitar confusão com agendamentos comuns. |
