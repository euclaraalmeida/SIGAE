| Caso de uso         | UC07 Manter Usuário                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Objetivo            | Permitir que o administrador gerencie perfis de acesso (DCE, Admin) e o status da permissão de agendamento dos Usuários, podendo suspender ou restaurar esse direito em caso de violação de regras. |
| Requisitos          | **RF003** (Gerenciar perfis/permissões), **RF004** (Manter), **RF016** (Suspender/Liberar agendamento), **RF023** (Log de Auditoria). |
| Atores              | Administrador (CEF). |
| Condição de entrada | O ator deve estar logado com perfil de Administrador. |
| Fluxo principal     | 1. O administrador acessa o menu de gestão de usuários/perfis. <br> 2. O sistema exibe a lista de usuários cadastrados com opção de busca. <br> 3. O administrador seleciona um usuário para manutenção. <br> 4. O sistema exibe os dados do usuário, perfis de acesso atuais e status de permissão de agendamento. <br> 5. O administrador altera os perfis de acesso do usuário (atribuir/remover DCE, Admin). <br> 6. O administrador ajusta a permissão de agendamento do usuário (suspender ou liberar), conforme RF016. <br> 7. O administrador confirma as alterações. <br> 8. O sistema valida as informações e grava as mudanças. <br> 9. **O sistema registra a ação no log de auditoria [RF023]**. <br> 10. O sistema apresenta a mensagem [MSG10] e exibe os dados atualizados do usuário. |
| Fluxos alternativos | **A1 – Filtrar/buscar usuário** <br> 1. O administrador informa filtros e solicita a busca. <br> 2. O sistema exibe os usuários correspondentes. <br> 3. Retorna ao passo 3 do fluxo principal. <br> **A2 – Apenas consulta de perfis** <br> 1. O administrador apenas consulta as informações. <br> 2. O administrador retorna à lista ou encerra o caso de uso. <br> **A3 – Alterar apenas permissão de agendamento** <br> 1. O administrador modifica apenas o status de agendamento (suspenso/liberado). <br> 2. Continua no passo 7 do fluxo principal. |
| Fluxos de Exceção   | **E1 – Usuário não encontrado** <br> 1. O sistema informa que não foram encontrados usuários e permanece na tela de busca. <br> **E2 – Falha de validação de dados** <br> 1. O sistema exibe a mensagem [MSG13] e destaca os campos sem gravar. <br> 2. O administrador corrige e volta ao passo 7 do fluxo principal. <br> **E3 – Falha técnica ao salvar** <br> 1. O sistema apresenta a mensagem [MSG12] e não grava. <br> 2. O caso de uso é encerrado. |
| Regras de Negócio   | . |
